<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Home</title>
    <link rel="stylesheet" href="styles.css" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Vollkorn:ital,wght@0,400..900;1,400..900&display=swap"
      rel="stylesheet"
    />

    <link rel="icon" type="image/png" href="../icons/favicon-128x128.png" />
  </head>
  <body>
    <div class="container">
      <h1 class="welcome-text" id="welcome">
        welcome to<br />
        a <span class="accent">calmer</span> internet
      </h1>

      <div class="search-container">
        <input
          type="text"
          class="search-input"
          placeholder="Search the web..."
          id="searchInput"
          autofocus
        />
      </div>

      <div class="shortcuts-container">
        <div class="edit-mode-banner" id="editModeBanner">
          <span>
            <img src="../icons/edit.svg" alt="Edit" /> Edit Mode - Click on a
            shortcut to edit or on ✕ to delete</span
          >
          <button class="done-editing-btn" id="doneEditingBtn">Done</button>
        </div>
        <div class="shortcuts-grid" id="shortcutsGrid">
          <!-- Shortcuts will be added here dynamically -->
        </div>
      </div>
    </div>

    <div class="config-buttons">
      <button class="settings-btn" id="settingsBtn" title="Settings">
        <img src="../icons/settings.svg" alt="Settings" />
      </button>
    </div>

    <!-- Modal for adding shortcuts -->
    <div class="modal" id="addShortcutModal">
      <div class="modal-content">
        <h2 class="modal-title">Add Shortcut</h2>
        <input
          type="text"
          class="modal-input"
          id="shortcutName"
          placeholder="Name (e.g., GitHub)"
        />
        <input
          type="text"
          class="modal-input"
          id="shortcutUrl"
          placeholder="URL (e.g., https://github.com)"
        />
        <div class="modal-buttons">
          <button class="modal-btn" id="cancelBtn">Cancel</button>
          <button class="modal-btn primary" id="saveBtn">Save</button>
        </div>
      </div>
    </div>

    <!-- Modal for editing a shortcut -->
    <div class="modal" id="editShortcutModal">
      <div class="modal-content">
        <h2 class="modal-title">Edit Shortcut</h2>
        <input
          type="text"
          class="modal-input"
          id="editShortcutName"
          placeholder="Name (e.g., GitHub)"
        />
        <input
          type="text"
          class="modal-input"
          id="editShortcutUrl"
          placeholder="URL (e.g., https://github.com)"
        />
        <div class="modal-buttons">
          <button class="modal-btn" id="cancelEditBtn">Cancel</button>
          <button class="modal-btn primary" id="saveEditBtn">Save</button>
        </div>
      </div>
    </div>

    <!-- Modal for search engine settings -->
    <div class="modal" id="searchSettingsModal">
      <div class="modal-content modal-large">
        <h2 class="modal-title">Settings</h2>

        <div class="settings-section">
          <h3 class="settings-subtitle">Shortcuts</h3>
          <button
            class="modal-btn primary"
            id="editShortcutsBtn"
            style="width: 100%; margin-bottom: 0.6rem"
          >
            Edit Shortcuts
          </button>
          <p class="shortcut-hint">Hover a shortcut, then press <kbd>E</kbd> to edit</p>
        </div>

        <div class="settings-section">
          <h3
            class="settings-subtitle"
            id="backgroundHeader"
            style="
              cursor: pointer;
              display: flex;
              align-items: center;
              justify-content: space-between;
            "
          >
            <div>
              <img
                src="../icons/wallpaper.svg"
                alt="Wallpaper"
                style="
                  width: 20px;
                  height: 20px;
                  vertical-align: middle;
                  margin-right: 0.5rem;
                "
              />
              Background
            </div>
            <img id="backgroundToggle" src="../icons/arrow.svg" />
          </h3>

          <!-- Collapsible Background Content -->
          <div id="backgroundContent" style="display: block">
            <!-- Live Preview -->
            <div class="wallpaper-live-preview" id="wallpaperLivePreview">
              <div class="preview-background" id="previewBackground">
                <div class="preview-content" id="previewContent">
                  <span class="preview-label">Live Preview</span>
                </div>
              </div>
            </div>

            <!-- Tab Navigation -->
            <div class="background-tabs" style="margin-top: 1rem">
              <button class="tab-btn active" id="colorTab" data-tab="color">
                Color
              </button>
              <button class="tab-btn" id="imageTab" data-tab="image">
                Image
              </button>
            </div>

            <!-- Tab Content Container -->
            <div class="tab-content-container">
              <!-- Color Tab Content -->
              <div class="tab-content active" id="colorTabContent">
                <div style="margin-top: 1rem">
                  <label class="settings-label" style="margin-bottom: 0.75rem">
                    <span>Choose a solid background color:</span>
                  </label>
                  <div style="display: flex; gap: 0.5rem; align-items: center">
                    <input
                      type="color"
                      id="wallpaperColor"
                      value="#1f1f1f"
                      class="color-picke"
                    />
                    <button
                      class="modal-btn primary"
                      id="applyColorBtn"
                      style="flex: 1; margin: 0"
                    >
                      Apply Color
                    </button>
                  </div>
                </div>
              </div>

              <!-- Image Tab Content -->
              <div class="tab-content" id="imageTabContent">
                <!-- Drag and Drop Area -->
                <div
                  class="drag-drop-area"
                  id="dragDropArea"
                  style="margin-top: 1rem"
                >
                  <img
                    src="../icons/wallpaper.svg"
                    alt="Upload"
                    class="drag-drop-icon"
                  />
                  <p class="drag-drop-text">Drag & drop an image here</p>
                  <p class="drag-drop-subtext">or</p>
                </div>

                <!-- Image Source Buttons -->
                <div style="margin-top: 0.75rem">
                  <input
                    type="file"
                    id="wallpaperUpload"
                    accept="image/png,image/jpeg,image/jpg"
                    style="display: none"
                  />
                  <div
                    style="display: flex; gap: 0.5rem; margin-bottom: 0.75rem"
                  >
                    <button
                      class="modal-btn"
                      id="wallpaperUploadBtn"
                      style="flex: 1; margin: 0"
                    >
                      Browse Files
                    </button>
                    <button
                      class="modal-btn primary"
                      id="bingImageBtn"
                      style="flex: 1; margin: 0"
                    >
                      Bing Image
                    </button>
                  </div>
                </div>

                <!-- Effects Controls (Hidden by default) -->
                <div
                  id="effectsControls"
                  style="margin-top: 1rem; display: none"
                >
                  <span
                    style="
                      display: block;
                      margin-bottom: 1rem;
                      color: rgba(209, 207, 192, 0.7);
                      font-size: 0.9rem;
                    "
                    >Effects</span
                  >

                  <div class="slider-group">
                    <label class="slider-label"
                      >Opacity: <span id="opacityValue">50</span>%</label
                    >
                    <input
                      type="range"
                      id="wallpaperOpacity"
                      min="0"
                      max="100"
                      value="50"
                      class="settings-slider"
                    />
                  </div>

                  <div class="slider-group">
                    <label class="slider-label"
                      >Blur: <span id="blurValue">0</span>px</label
                    >
                    <input
                      type="range"
                      id="wallpaperBlur"
                      min="0"
                      max="20"
                      value="0"
                      class="settings-slider"
                    />
                  </div>

                  <div class="slider-group">
                    <label class="slider-label"
                      >Grain: <span id="grainValue">0</span>%</label
                    >
                    <input
                      type="range"
                      id="wallpaperGrain"
                      min="0"
                      max="100"
                      value="0"
                      class="settings-slider"
                    />
                  </div>
                </div>
              </div>
            </div>

            <!-- Action Buttons -->
            <div style="display: flex; gap: 0.5rem; margin-top: 1rem">
              <button
                class="modal-btn"
                id="removeWallpaperBtn"
                style="
                  flex: 1;
                  background: rgba(247, 111, 83, 0.2);
                  color: var(--accent-color);
                  margin: 0;
                  display: none;
                "
              >
                Clear Background
              </button>
              <button
                class="modal-btn"
                id="resetAllBtn"
                style="
                  flex: 1;
                  background: rgba(209, 207, 192, 0.1);
                  color: var(--zen-dark);
                  margin: 0;
                "
              >
                ↺ Reset All
              </button>
            </div>
          </div>
        </div>

        <div class="settings-section">
          <h3 class="settings-subtitle">Search Engine</h3>
          <label class="settings-label">
            <input
              type="checkbox"
              id="showLogoCheckbox"
              class="settings-checkbox"
            />
            <span>Show search engine logo</span>
          </label>
        </div>

        <div class="settings-section" style="margin-top: 1.5rem">
          <h3 class="settings-subtitle">Popular Search Engines</h3>
          <div class="search-engines-grid">
            <button class="engine-option" data-engine="google">
              <img src="https://www.google.com/favicon.ico" alt="Google" />
              <span>Google</span>
            </button>
            <button class="engine-option" data-engine="duckduckgo">
              <img src="https://duckduckgo.com/favicon.ico" alt="DuckDuckGo" />
              <span>DuckDuckGo</span>
            </button>
            <button class="engine-option" data-engine="bing">
              <img src="https://www.bing.com/favicon.ico" alt="Bing" />
              <span>Bing</span>
            </button>
            <button class="engine-option" data-engine="yahoo">
              <img src="https://www.yahoo.com/favicon.ico" alt="Yahoo" />
              <span>Yahoo</span>
            </button>
            <button class="engine-option" data-engine="brave">
              <img
                src="https://brave.com/static-assets/images/brave-favicon.png"
                alt="Brave"
              />
              <span>Brave</span>
            </button>
            <button class="engine-option" data-engine="ecosia">
              <img src="https://www.ecosia.org/favicon.ico" alt="Ecosia" />
              <span>Ecosia</span>
            </button>
          </div>
        </div>

        <div class="settings-section">
          <h3 class="settings-subtitle">Custom Search Engine</h3>
          <input
            type="text"
            class="modal-input"
            id="customEngineName"
            placeholder="Engine name (e.g., My Search)"
          />
          <input
            type="text"
            class="modal-input"
            id="customEngineUrl"
            placeholder="Search URL (use %s for query, e.g., https://example.com/search?q=%s)"
          />
          <input
            type="text"
            class="modal-input"
            id="customEngineFavicon"
            placeholder="Favicon URL (optional)"
          />
          <button class="modal-btn" id="setCustomEngineBtn">
            Set Custom Engine
          </button>
        </div>

        <div class="modal-buttons">
          <button class="modal-btn" id="closeSettingsBtn">Close</button>
        </div>
      </div>
    </div>

    <script src="search.js"></script>
    <script src="greetings.js"></script>
    <script src="shortcuts.js"></script>
    <script src="index.js"></script>
  </body>
</html>
